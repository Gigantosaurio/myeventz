â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    MyEventz - GUÃA RÃPIDA DE REFERENCIA                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“Š ESTADO DEL PROYECTO                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

Frontend:    âœ… 100% COMPLETO (11 pantallas React + TypeScript)
Base Datos:  âœ… 100% COMPLETO (MySQL con 7 tablas + datos de prueba)
Backend:     âŒ 0% PENDIENTE (Node.js + Express + TypeScript)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ—„ï¸ TABLAS DE LA BASE DE DATOS                                              â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

1. usuarios              - Usuarios del sistema
2. categorias            - CategorÃ­as de eventos (50 en total)
3. eventos               - Eventos creados
4. participantes_eventos - RelaciÃ³n usuarios â†” eventos (participaciÃ³n)
5. eventos_likes         - Likes en eventos
6. usuarios_hobbies      - Hobbies de usuarios (relaciÃ³n con categorÃ­as)
7. eventos_categorias    - CategorÃ­as de eventos (actualmente 1 por evento)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ”‘ CAMPOS CLAVE: BD â†’ FRONTEND                                              â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

USUARIOS:
  id_usuario        â†’ id
  usuario           â†’ username
  clave             â†’ password (solo en auth)
  nombre            â†’ firstName
  apel1             â†’ lastName1
  apel2             â†’ lastName2
  f_nac             â†’ birthDate
  imagen_perfil     â†’ profilePicture

EVENTOS:
  id_evento         â†’ id
  titulo            â†’ title
  descripcion       â†’ description
  ubicacion         â†’ location
  lat, lng          â†’ lat, lng
  max_participantes â†’ maxParticipants

CATEGORÃAS:
  id_categoria      â†’ id
  categoria         â†’ name
  color             â†’ color (hex)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ”Œ ENDPOINTS BACKEND (TODOS LOS NECESARIOS)                                 â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

AUTENTICACIÃ“N:
  POST   /api/auth/register     - Registrar usuario + hobbies
  POST   /api/auth/login        - Login con JWT
  GET    /api/auth/me           - Usuario actual (requiere token)
  POST   /api/auth/logout       - Logout

USUARIOS:
  GET    /api/users              - Buscar usuarios (?search=texto)
  GET    /api/users/:id          - Perfil de usuario + eventos + hobbies
  PUT    /api/users/:id          - Actualizar perfil (multipart/form-data)
  GET    /api/users/:id/events   - Eventos organizados
  GET    /api/users/:id/participations - Eventos participando

EVENTOS:
  GET    /api/events             - Listar eventos (?fecha=, ?categoria=)
  GET    /api/events/popular     - Eventos populares (?limit=10)
  GET    /api/events/recent      - Publicaciones recientes (?limit=20)
  GET    /api/events/search      - Buscar (?search=texto&categories=1,2,3)
  GET    /api/events/:id         - Detalle evento completo
  POST   /api/events             - Crear evento (multipart/form-data)
  PUT    /api/events/:id         - Actualizar evento
  DELETE /api/events/:id         - Eliminar evento
  POST   /api/events/:id/join    - Unirse al evento
  DELETE /api/events/:id/leave   - Salir del evento
  POST   /api/events/:id/like    - Like al evento
  DELETE /api/events/:id/unlike  - Quitar like

BÃšSQUEDA:
  GET    /api/search             - BÃºsqueda mixta (?q=query&type=all/users/events)

CATEGORÃAS:
  GET    /api/categories         - Listar todas las categorÃ­as
  GET    /api/categories/:id/events - Eventos de una categorÃ­a

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“¦ TECNOLOGÃAS BACKEND                                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

OBLIGATORIAS:
  âœ… Node.js v18+
  âœ… Express
  âœ… TypeScript
  âœ… mysql2 (NO ORM - queries directas)
  âœ… jsonwebtoken (JWT)
  âœ… bcryptjs (hash passwords)
  âœ… multer (upload imÃ¡genes)
  âœ… cors
  âœ… dotenv
  âœ… express-validator

PROHIBIDAS:
  âŒ Sequelize
  âŒ TypeORM
  âŒ Prisma
  âŒ Mongoose

OPCIONALES:
  ğŸ“¦ morgan (logger)
  ğŸ“¦ helmet (seguridad)
  ğŸ“¦ compression

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ—ï¸ ESTRUCTURA BACKEND                                                       â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts           # mysql2.createPool()
â”‚   â”‚   â””â”€â”€ env.ts
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ userModel.ts          # Queries directas SQL
â”‚   â”‚   â”œâ”€â”€ eventModel.ts
â”‚   â”‚   â””â”€â”€ categoryModel.ts
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.ts     # register, login, me
â”‚   â”‚   â”œâ”€â”€ userController.ts
â”‚   â”‚   â”œâ”€â”€ eventController.ts
â”‚   â”‚   â”œâ”€â”€ searchController.ts
â”‚   â”‚   â””â”€â”€ categoryController.ts
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ users.ts
â”‚   â”‚   â”œâ”€â”€ events.ts
â”‚   â”‚   â”œâ”€â”€ search.ts
â”‚   â”‚   â””â”€â”€ categories.ts
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.ts               # Verificar JWT
â”‚   â”‚   â”œâ”€â”€ upload.ts             # Multer config
â”‚   â”‚   â””â”€â”€ errorHandler.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.ts
â”‚   â”‚   â””â”€â”€ bcrypt.ts
â”‚   â””â”€â”€ app.ts
â”œâ”€â”€ uploads/                      # .gitignore
â”œâ”€â”€ .env                          # .gitignore
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ” VARIABLES DE ENTORNO (.env)                                              â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

NODE_ENV=development
PORT=3000

DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=
DB_NAME=myeventz

JWT_SECRET=cambiar_en_produccion_super_secreto_largo
JWT_EXPIRES_IN=7d

CORS_ORIGIN=http://localhost:5173

UPLOAD_MAX_SIZE=5242880
UPLOAD_DIR=uploads

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ¯ PRIORIDADES DE DESARROLLO                                                â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

FASE 1 - Setup + AutenticaciÃ³n (CRÃTICO):
  1. npm init + tsconfig + express
  2. ConexiÃ³n MySQL con mysql2
  3. POST /api/auth/register (bcrypt + JWT)
  4. POST /api/auth/login (JWT)
  5. GET /api/auth/me (middleware auth)

FASE 2 - Eventos BÃ¡sicos:
  6. GET /api/events/popular
  7. GET /api/events/recent
  8. GET /api/events/:id
  9. POST /api/events (con imagen)

FASE 3 - ParticipaciÃ³n:
  10. POST /api/events/:id/join
  11. DELETE /api/events/:id/leave
  12. POST /api/events/:id/like
  13. DELETE /api/events/:id/unlike

FASE 4 - BÃºsqueda y Perfil:
  14. GET /api/events/search
  15. GET /api/search (mixta)
  16. GET /api/users/:id
  17. PUT /api/users/:id (con imagen)

FASE 5 - CategorÃ­as:
  18. GET /api/categories

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ’¾ DATOS DE PRUEBA                                                          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

USUARIOS (todos con password "123"):
  gamiluu
  charly
  gigantosaurio
  carver
  mangelrogel420

CATEGORÃAS PRINCIPALES (50 total):
  FÃºtbol, Baloncesto, Ciclismo, Escalada, Gimnasia, Golf, Esgrima,
  Karate, Crossfit, Danza, Calistenia, Motocross, Cocina, Audiovisual...

EVENTOS: 8 eventos de prueba con diferentes categorÃ­as

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“ EJEMPLO DE QUERY (NO ORM)                                                â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

// config/database.ts
import mysql from 'mysql2/promise';

export const dbPool = mysql.createPool({
  host: process.env.DB_HOST,
  port: Number(process.env.DB_PORT),
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME,
  waitForConnections: true,
  connectionLimit: 10,
});

// models/userModel.ts
export const findUserByUsername = async (usuario: string) => {
  const [rows] = await dbPool.execute(
    'SELECT * FROM usuarios WHERE usuario = ?',
    [usuario]
  );
  return rows[0];
};

// controllers/authController.ts
export const login = async (req, res) => {
  const { usuario, clave } = req.body;
  
  const user = await findUserByUsername(usuario);
  if (!user) return res.status(401).json({ error: 'Invalid credentials' });
  
  const isValid = await bcrypt.compare(clave, user.clave);
  if (!isValid) return res.status(401).json({ error: 'Invalid credentials' });
  
  const token = jwt.sign({ id: user.id_usuario }, process.env.JWT_SECRET);
  
  res.json({ token, user: { ...user, clave: undefined } });
};

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ âš ï¸ REGLAS CRÃTICAS                                                          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

âœ… SIEMPRE usar placeholders (?) en queries SQL
âœ… SIEMPRE hashear passwords con bcrypt
âœ… SIEMPRE verificar JWT en rutas protegidas
âœ… SIEMPRE validar inputs con express-validator
âœ… SIEMPRE usar multipart/form-data para imÃ¡genes

âŒ NUNCA concatenar strings en SQL
âŒ NUNCA guardar passwords en texto plano
âŒ NUNCA devolver el campo "clave" en las respuestas
âŒ NUNCA confiar en datos del frontend sin validar
âŒ NUNCA usar ORM (Sequelize, TypeORM, Prisma)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸš€ COMANDOS RÃPIDOS                                                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

# Setup inicial
npm init -y
npm install express typescript @types/node @types/express ts-node nodemon
npm install mysql2 jsonwebtoken bcryptjs multer cors dotenv express-validator
npm install --save-dev @types/jsonwebtoken @types/bcryptjs @types/multer @types/cors

# Crear tsconfig.json
npx tsc --init

# Importar base de datos
mysql -u root -p myeventz < MyEventz_Completo_Actualizado.sql

# Desarrollo
npm run dev

# Verificar conexiÃ³n MySQL
mysql -u root -p
USE myeventz;
SHOW TABLES;
SELECT COUNT(*) FROM usuarios;

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ ğŸ“š ARCHIVOS NECESARIOS PARA SIGUIENTE CHAT                                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

1. MyEventz_Completo_Actualizado.sql    - Script SQL completo
2. Diagrama_BD.png                       - Imagen del esquema
3. RESUMEN_COMPLETO_PROYECTO.md          - DocumentaciÃ³n exhaustiva
4. CHEAT_SHEET.txt                       - Este archivo

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                      Â¡LISTO PARA EMPEZAR EL BACKEND! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
